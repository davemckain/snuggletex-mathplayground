<%--

$Id: changeIdentity.jsp 1053 2010-11-16 12:06:55Z dmckain $

Copyright (c) 2011, The University of Edinburgh.
All Rights Reserved

@author  David McKain
@version $Revision: 1053 $

--%>
<%@ taglib prefix="c" uri="http://java.sun.com/jsp/jstl/core" %>
<c:set var="title" value="ASCIIMathML Verified Input Demo" />
<c:set var="pageId" value="asciiMathInputDemo" />
<c:set var="headStuff">
  <link rel="stylesheet" type="text/css" href="<c:url value='includes/upconversion-ajax-control.css'/>">
  <script type="text/javascript" src="<c:url value='includes/jquery/jquery-1.5.1.js'/>"></script>
  <script type="text/javascript" src="<c:url value='includes/ASCIIMathParser.js'/>"></script>
  <script type="text/javascript" src="<c:url value='includes/ASCIIMathParserBrowserUtilities.js'/>"></script>
  <script type="text/javascript" src="<c:url value='includes/UpConversionAJAXController.js'/>"></script>
  <script type="text/javascript" src="<c:url value='includes/ASCIIMathInputController.js'/>"></script>
  <%@ include file="/WEB-INF/jsp/includes/mathjax.jspf" %>
</c:set>

<%@ include file="/WEB-INF/jsp/includes/header.jspf" %>

<script type="text/javascript">//<![CDATA[
  jQuery(document).ready(function() {
    UpConversionAJAXController.setUpConversionServiceUrl('<c:url value="/asciimath-upconversion-service"/>');
    UpConversionAJAXController.setDelay(500);
    UpConversionAJAXController.setUsingMathJax(true);

    var upConversionAJAXControl = UpConversionAJAXController.createUpConversionAJAXControl();
    upConversionAJAXControl.setBracketedRenderingContainerId('verifiedRendering');
    upConversionAJAXControl.setCMathSourceContainerId('cmathSource');
    upConversionAJAXControl.setMaximaSourceContainerId('maximaSource');

    var widget = ASCIIMathInputController.createInputWidget('asciiMathInputControl', 'asciiMathOutputControl', upConversionAJAXControl);
    widget.setPMathSourceContainerId('pmathSource');
    widget.setMathJaxRenderingContainerId('mathJaxRendering');
    widget.init();
  });
//]]></script>
<h2>ASCIIMath Verified Input Demo</h2>
<p>
  This demo shows the use of ASCIIMathML as an input format for the kind of
  simple maths we might expect from a 16-18 year-old student in the UK. The resulting
  input is rendered using MathJax and is then passed to the SnuggleTeX semantic
  enrichment code for conversion to Content MathML and Maxima input syntax.
  The input is deemed to "make sense" if this process succeeds. The resulting
  semantic representation of the input can then be used by an assessment system,
  or something similar.
</p>
<h3>ASCIIMath Input</h3>
<p>
  Enter some ASCIIMath in the box below:
</p>
<form action="asciimath-input-demo" method="post" class="input">
  <div class="inputBox">
    <input id="asciiMathInputControl" name="asciiMathInput" type="text" value="${asciiMathInput}">
    <input id="asciiMathOutputControl" name="asciiMathOutput" type="hidden">
    <input type="submit" value="Submit">
  </div>
</form>

<h3>ASCIIMathML Rendering</h3>
<p>This shows a client-side rendering of the input using MathJax:</p>
<div id="mathJaxRendering"></div>

<h3>Verified MathML</h3>
<p>This shows the results of "verifying" the input to see if it "makes sense".</p>
<div id="verifiedRendering"></div>

<h3>Resulting ASCIIMathML source</h3>
<p>For geeks, this is the raw MathML generated by ASCIIMath</p>
<pre class="result" id="pmathSource"></pre>

<h3>Resulting Content MathML source</h3>
<p>This is the resulting Content MathML, created by the verification service.</p>
<pre class="result" id="cmathSource"></pre>

<h3>Resulting Maxima code</h3>
<p>This is the resulting Maxima input syntax, created by the verification service.</p>
<pre class="result" id="maximaSource"></pre>

<%@ include file="/WEB-INF/jsp/includes/footer.jspf" %>
